CREATE DATABASE gestionContratos;
USE gestionContratos;

CREATE TABLE contrato(
idRUP int primary key auto_increment,
idClienteFK int,
codigoContrato varchar(255) not null,
descripcionContrato varchar(255) not null,
fechaInicio date not null,
fechaFinalizacion date not null,
valorSMMLV int not null,
valorContrato int not null
);

CREATE TABLE anexos(
idAnexo int primary key auto_increment,
idRUPFK int,
documentoContrato bool null,
documentoConsorcio bool null,
actaFinal bool null,
actaInicio bool null,
certificacion bool null
);

CREATE TABLE bienesyServicios(
codigoBienesyServicios int primary key,
descripcionActividad varchar(255) null
);

CREATE TABLE cliente(
idCliente int primary key auto_increment,
nombreEntidad varchar(255) not null,
ubicacionCliente varchar(255) null
);

CREATE TABLE usuario(
idUsuario int primary key auto_increment,
idRUPFK int,
nombreUsuario varchar(255) not null,
cargoUsuario varchar(255) null
);

CREATE TABLE contratoByS(
idRUPFK int,
codigoBienesyServiciosFK int
);

ALTER TABLE anexos 
ADD CONSTRAINT FKanexosContrato
FOREIGN KEY (idRUPFK)
REFERENCES contrato (idRUP);

ALTER TABLE contratoByS
ADD CONSTRAINT FKcontratoByS
FOREIGN KEY (idRUPFK)
REFERENCES contrato(idRUP);

ALTER TABLE contratoByS
ADD CONSTRAINT FKbienesyServiciosByS
FOREIGN KEY (codigoBienesyServiciosFK)
REFERENCES bienesyServicios(codigoBienesyServicios);

ALTER TABLE contrato
ADD CONSTRAINT FKclienteContrato
FOREIGN KEY (idClienteFK)
REFERENCES cliente(idCliente);

ALTER TABLE usuario
ADD CONSTRAINT FKusuarioContrato
FOREIGN KEY (idRUPFK)
REFERENCES contrato(idRUP);

# inserciones contrato hechas por medio del TABLE DATA IMPORT WIZARD
# inserciones bienesyservicios por medio del TABLE DATA IMPORT WIZARD
 
# inserciones cliente:
INSERT INTO cliente (idCliente, nombreEntidad, ubicacionCliente) VALUES
(1, 'Alcaldia Municipal de Guasca', 'Guasca, Cundinamarca'),
(2, 'Alcaldia Municipal de Gacheta', 'Gacheta, Cundinamarca'),
(3, 'Alcaldia Municipal de Gachala', 'Gachala, Cundinamarca'),
(4, 'Alcaldia Municipal de Soacha', 'Soacha, Cundinamarca'),
(5, 'Servincoop', 'Gachala, Cundinamarca'),
(6, 'ONG Corponintegras', 'Dato No Disponible'),
(7, 'Union Temporal FYC', 'Guasca, Cundinamarca'),
(8, 'Fausto Fernando Gonzalez Barrera', 'Dato No Disponible'),
(9, 'Promosel Ingenieria Cia.LTDA.', 'Dato No Disponible'),
(10, 'Arcelandia SAS', 'Guasca, Cundinamarca'),
(11, 'Desarrollamos Ideas Construimos Bienestar Colombia SAS.', 'Dato No Disponible'),
(12, 'Empresa de Servicios Publicos de Guaduas SA ESP "Guaduas del Capira SA ESP', 'Guaduas, Cundinamarca'),
(13, 'Corporacion Autonoma Regional del Guavio - Corpoguavio', 'Guavio, Cundinamarca'),
(14, 'Gobernacion de Cundinamarca', 'Guasca, Cundinamarca'),
(15, 'Alcaldia Municipal de Junin', 'Junin, Cundinamarca'),
(16, 'Gobernacion de Boyaca', 'Boyaca'),
(17, 'Consorcio FYF', 'Guasca, Cundinamarca'),
(18, 'Alcaldia Municipal de Gutierrez', 'Gutierrez, Cundinamarca'),
(19, 'Alcaldia Municipal de Chinavita', 'Chinavita, Boyaca'),
(20, 'Secretaria General del Departamento de Boyaca', 'Boyaca'),
(21, 'Alcaldia Municipal de Villa Gomez', 'Villa Gomez, Cundinamarca'),
(22, 'Alcaldia Municipal de Ubala', 'Ubala, Cundinamarca'),
(23, 'Alcaldia Municipal de Cucunuba', 'Cucunuba, Cundinamarca');


# inserciones contratobys:
# contrato 1
INSERT INTO contratobys values(1,301618),(1,461815),(1,491615),(1,521015),(1,521215),
(1,521216),(1,521217),(1,521316),(1,521615),(1,521616),
(1,531019),(1,531021),(1,531025),(1,531027),(1,531116);
# contrato 2
INSERT INTO contratobys VALUES
(2,221019),(2,231530),(2,271115),(2,271116),(2,271121),
(2,271217),(2,301036),(2,301115),(2,301116),(2,301118),
(2,301119),(2,301315),(2,301316),(2,301317),(2,301515),
(2,301615),(2,301617),(2,301618),(2,301715),(2,301815),
(2,302644),(2,311915),(2,312115),(2,391217),(2,401425),
(2,401715),(2,401716),(2,401717),(2,401733),(2,401830),
(2,441119),(2,471316),(2,561211),(2,721015),(2,721029),
(2,721033),(2,721214),(2,721415),(2,721511),(2,721513),
(2,721514),(2,721517),(2,721519),(2,721520),(2,721522),
(2,721523),(2,721524),(2,721525),(2,721527),(2,721529),
(2,721532),(2,721536),(2,721539),(2,721540),(2,811015),
(2,811017),(2,811022),(2,931217),(2,951219);
# contrato 3
INSERT INTO contratobys VALUES
(3,111116),(3,241115),(3,301115),(3,301116),(3,301119),
(3,301217),(3,301617),(3,302617),(3,302621),(3,302624),
(3,302643),(3,311620),(3,401425),(3,401615),(3,401618),
(3,721535);
# contrato 4
INSERT INTO contratobys VALUES
(4,111017),(4,111715),(4,111716),(4,301017),(4,301036),
(4,301521),(4,301617),(4,302415),(4,302636),(4,302637),
(4,302638),(4,302639),(4,302640),(4,302645),(4,302667),
(4,311615),(4,311620),(4,311623),(4,311624),(4,312314),
(4,313115),(4,313117),(4,491515),(4,491615),(4,491616),
(4,491715),(4,491815),(4,492015),(4,492016),(4,492415),
(4,601055),(4,701117),(4,721214),(4,721413),(4,721513),
(4,721519),(4,721525),(4,721527),(4,721529),(4,721531),
(4,811015);
# contrato 5
INSERT INTO contratobys VALUES
(5,221019),(5,301115),(5,301118),(5,301615),
(5,301815),(5,401830),(5,561220),(5,721015),
(5,721029),(5,721033),(5,721214),(5,721415),
(5,721511),(5,721514),(5,721515),(5,721517),
(5,721519),(5,721523),(5,721524),(5,721527),
(5,721529),(5,721532),(5,721536),(5,721539),
(5,721540),(5,811015),(5,811017),(5,931217),
(5,951219);
# contrato 6
INSERT INTO contratobys VALUES
(6,401615),(6,411042),(6,471015),
(6,501017),(6,501115),(6,501120),
(6,501316),(6,501317),(6,501318),
(6,501515),(6,501516),(6,501615),
(6,501618),(6,501715),(6,501719),
(6,501720),(6,501817),(6,501819),
(6,501820),(6,501915),(6,501921),
(6,501923),(6,501924),(6,501925),
(6,501926),(6,501927),(6,501928),
(6,501929),(6,501930),(6,501931),
(6,501932),(6,502017),(6,502023),
(6,502210),(6,502211),(6,502212),
(6,502213),(6,503223),(6,504045),
(6,504144),(6,504245),(6,504445),
(6,504645),(6,851515),(6,931316);
# contrato 7
INSERT INTO contratobys VALUES
(7,101715),(7,101716),(7,101717),
(7,101718),(7,111015),(7,211015),
(7,211022),(7,241015),(7,241019),
(7,271121),(7,271124),(7,311520),
(7,311624),(7,311632),(7,391217),
(7,441221),(7,471217),(7,551215),
(7,761215),(7,761223),(7,771016),
(7,771017),(7,771018),(7,771115),
(7,771116),(7,801116);
# contrato 8
INSERT INTO contratobys VALUES
(8,111015),(8,111016),(8,111017),
(8,111018),(8,111019),(8,111115),
(8,111116),(8,111117),(8,111118),
(8,111715),(8,111716),(8,111717),
(8,121649),(8,121650),(8,301036),
(8,301115),(8,301118),(8,301119),
(8,301219),(8,301315),(8,301816),
(8,401517),(8,401716),(8,471015),
(8,471016),(8,701315),(8,701316),
(8,701317),(8,721015),(8,721033),
(8,721215),(8,721415),(8,721514),
(8,721527),(8,721529),(8,771115),
(8,771217),(8,801116),(8,801216),
(8,811015),(8,831015),(8,931420);
# contraro 9
INSERT INTO contratobys VALUES
(9,201219),(9,711513),(9,721015),
(9,721033),(9,721515),(9,761115),
(9,781021),(9,781416),(9,811415),
(9,811418);
# contrato 10
INSERT INTO contratobys VALUES
(10,101515),(10,101517),(10,241129),
(10,241215),(10,401615),(10,461820),
(10,471217),(10,481015),(10,481016),
(10,481017),(10,481018),(10,481019),
(10,481020),(10,481021),(10,481110),
(10,481111),(10,481112),(10,501215),
(10,501316),(10,501317),(10,501318),
(10,501515),(10,501516),(10,501615),
(10,501618),(10,501715),(10,501717),
(10,501718),(10,501719),(10,501720),
(10,501817),(10,501819),(10,501820),
(10,501915),(10,501921),(10,501923),
(10,501924),(10,501925),(10,501926),
(10,501927),(10,501928),(10,501929),
(10,501930),(10,501931),(10,501932),
(10,502017),(10,502022),(10,502023),
(10,502024),(10,502025),(10,502026),
(10,502027),(10,502028),(10,502030),
(10,502210),(10,502211),(10,502213),
(10,503015),(10,503017),(10,503020),
(10,503025),(10,503034),(10,503037),
(10,503045),(10,503051),(10,503053),
(10,503056),(10,503058),(10,503067),
(10,503070),(10,503346),(10,504018),
(10,504032),(10,504045),(10,504053),
(10,504057),(10,504144),(10,504268),
(10,504221),(10,504636),(10,504650),
(10,504668),(10,504721),(10,601056),
(10,701018),(10,731316),(10,731317),
(10,731318),(10,731319),(10,771015),
(10,771016),(10,771017),(10,781215),
(10,781415),(10,801417),(10,811416),
(10,851515),(10,851516),(10,851517),
(10,901015),(10,901016),(10,901017),
(10,901018),(10,931316),(10,931415);
# contrato 11
INSERT INTO contratobys VALUES
(11, 101516), (11, 101517), (11, 241129),
(11, 241215), (11, 401615), (11, 461820),
(11, 471217), (11, 481015), (11, 481016),
(11, 481017), (11, 481018), (11, 481019),
(11, 481020), (11, 481021), (11, 481110),
(11, 481111), (11, 481112), (11, 501215),
(11, 501316), (11, 501317), (11, 501318),
(11, 501515), (11, 501516), (11, 501615),
(11, 501618), (11, 501718), (11, 501719),
(11, 501720), (11, 501817), (11, 501819),
(11, 501820), (11, 501915), (11, 501921),
(11, 501923), (11, 501924), (11, 501925),
(11, 501926), (11, 501927), (11, 501928),
(11, 501929), (11, 501930), (11, 501931),
(11, 501932), (11, 502017), (11, 502022),
(11, 502023), (11, 502024), (11, 502025),
(11, 502026), (11, 502027), (11, 502028),
(11, 502030), (11, 502210), (11, 502211),
(11, 504018), (11, 504035), (11, 504070),
(11, 601056), (11, 701018), (11, 731315),
(11, 731316), (11, 731317), (11, 731318),
(11, 731319), (11, 771015), (11, 771016),
(11, 771017), (11, 781215), (11, 781316),
(11, 781415), (11, 801116), (11, 801417),
(11, 811416), (11, 851515), (11, 851516),
(11, 851517), (11, 901015), (11, 901016),
(11, 901017), (11, 901018), (11, 931316),
(11, 931415);
# contrato 12
INSERT INTO contratobys VALUES
(12, 241017), (12, 251917), (12, 271115),
(12, 271121), (12, 421419), (12, 471218);
# contrato 13
INSERT INTO contratobys VALUES
(13, 251727), (13, 301918), (13, 411034),
(13, 432216), (13, 432217), (13, 432218),
(13, 701717), (13, 711227), (13, 721029),
(13, 721516), (13, 771015), (13, 771016),
(13, 771017), (13, 771018), (13, 771019),
(13, 771020), (13, 771115), (13, 771116),
(13, 771217), (13, 801015), (13, 811122),
(13, 811515), (13, 811516), (13, 811517),
(13, 811518), (13, 811519), (13, 921217);
# contrato 14
INSERT INTO contratobys VALUES
(14,101715),(14,101716),(14,101717);
# contrato 15
INSERT INTO contratobys VALUES
(15,271121),(15,311520),(15,311624),
(15,311632);
# contrato 16
INSERT INTO contratobys VALUES
(16, 111115), (16, 111116), (16, 111117),
(16, 111118), (16, 111216),(16, 111621),
(16, 301115), (16, 301116),(16, 301119),
(16, 301217), (16, 301315),(16, 301316),
(16, 311520), (16, 311915);
# contrato 17
INSERT INTO contratobys VALUES
(17,241016),(17,241017);
# contrato 18
INSERT INTO contratobys VALUES
(18, 101416), (18, 111017), (18, 131020),
(18, 131110), (18, 201017), (18, 201116),
(18, 221017), (18, 251741), (18, 261215),
(18, 271115), (18, 271116), (18, 271117),
(18, 271120), (18, 271121), (18, 271122),
(18, 271217), (18, 301017), (18, 301036),
(18, 301119), (18, 301515), (18, 301617),
(18, 301915), (18, 301916), (18, 302617),
(18, 302644), (18, 311520), (18, 311624),
(18, 311632), (18, 391217), (18, 401715),
(18, 401716), (18, 401717), (18, 401733),
(18, 432115), (18, 432121), (18, 441031),
(18, 461816), (18, 461817), (18, 461823);
# contrato 19
INSERT INTO contratobys VALUES
(19, 241118), (19, 271122), (19, 301017),
(19, 301036), (19, 301115), (19, 301118),
(19, 301119), (19, 301219), (19, 301315),
(19, 301517), (19, 301621), (19, 301719),
(19, 401515), (19, 401517), (19, 401716),
(19, 471015), (19, 471016), (19, 701315),
(19, 701316), (19, 701317), (19, 701715),
(19, 701718), (19, 721015), (19, 721029),
(19, 721033), (19, 721415), (19, 721510),
(19, 721519), (19, 721541), (19, 721542),
(19, 721543), (19, 731517), (19, 761217),
(19, 771115), (19, 801116), (19, 811015),
(19, 831015), (19, 931420);
#contrato 20
INSERT INTO contratobys VALUES
(20, 771015), (20,771016), (20,771017),
(20,771018), (20, 771019), (20, 771020);
# contrato 21
select * from bienesyservicios;
INSERT INTO contratobys VALUES
(21, 111216), (21, 111217), (21, 111220),
(21, 121623), (21, 121649), (21, 121650),
(21, 151215), (21, 151218), (21, 151219),
(21, 221020), (21, 231015), (21, 231535),
(21, 241218), (21, 251741), (21, 261216),
(21, 271120), (21, 271122), (21, 301017);
# contrato 22
INSERT INTO contratobys VALUES
(22, 221019), (22, 231530), (22, 271115),
(22, 271116), (22, 271121), (22, 271217),
(22, 301036), (22, 301115), (22, 301116),
(22, 301118), (22, 301119), (22, 301315),
(22, 301316), (22, 301317), (22, 301515),
(22, 301615), (22, 301617), (22, 301618),
(22, 301715), (22, 301716), (22, 301717),
(22, 301815), (22, 302644), (22, 311915),
(22, 312115), (22, 391217), (22, 401425),
(22, 401715), (22, 401733), (22, 401830),
(22, 441119), (22, 471316), (22, 561211),
(22, 721015), (22, 721029), (22, 721033),
(22, 721211), (22, 721214), (22, 721415),
(22, 721513), (22, 721514), (22, 721515),
(22, 721517), (22, 721519), (22, 721520),
(22, 721522), (22, 721523), (22, 721524),
(22, 721525), (22, 721527), (22, 721529),
(22, 721532), (22, 721536), (22, 721539),
(22, 721540), (22, 811015), (22, 811017),
(22, 811022), (22, 921217), (22, 951219);
# contrato 23
INSERT INTO contratobys VALUES
(23, 531030);
# contrato 24
INSERT INTO contratobys VALUES
(24, 111015), (24, 111016), (24, 111017),
(24, 111018), (24, 111019), (24, 111115),
(24, 111116), (24, 111117), (24, 111118),
(24, 221020), (24, 241118), (24, 271122),
(24, 301017), (24, 301036), (24, 301115),
(24, 301118), (24, 301119), (24, 301219),
(24, 301315), (24, 301621), (24, 301719),
(24, 301816), (24, 311522), (24, 311621),
(24, 401515), (24, 401517), (24, 471015),
(24, 471016), (24, 701315), (24, 701316),
(24, 701317), (24, 701617), (24, 701715),
(24, 701716), (24, 701717), (24, 701718),
(24, 721015), (24, 721029), (24, 721033),
(24, 721210), (24, 721213), (24, 721215),
(24, 721515), (24, 721527), (24, 721529),
(24, 721533), (24, 721535), (24, 731517),
(24, 761217), (24, 771115), (24, 771217),
(24, 801116), (24, 811015), (24, 831015),
(24, 931420);
# contrato 25
INSERT INTO contratobys VALUES
(25, 111015), (25, 111016), (25, 111017),
(25, 111019), (25, 111115), (25, 111116),
(25, 111117), (25, 111118), (25, 121649),
(25, 121650), (25, 221020), (25, 241118),
(25, 271122), (25, 301017), (25, 301036),
(25, 301115), (25, 301118), (25, 301119),
(25, 301219), (25, 301315), (25, 301621),
(25, 301719), (25, 301816), (25, 311522),
(25, 311621), (25, 401515), (25, 401517),
(25, 401716), (25, 471015), (25, 471016),
(25, 701315), (25, 701316), (25, 701317),
(25, 701617), (25, 701715), (25, 701717),
(25, 701718), (25, 721015), (25, 721029),
(25, 721033), (25, 721210), (25, 721213),
(25, 721215), (25, 721515), (25, 721527),
(25, 721529), (25, 721533), (25, 721535),
(25, 731517), (25, 761217), (25, 771115),
(25, 771217), (25, 801116), (25, 811015),
(25, 831015), (25, 931420);
# contrato 26
INSERT INTO contratobys VALUES
(26, 111015), (26, 111016), (26, 111017),
(26, 111019), (26, 111115), (26, 111116),
(26, 111117), (26, 111118), (26, 221016),
(26, 221017), (26, 221020), (26, 271122),
(26, 301017), (26, 301036), (26, 301115),
(26, 301118), (26, 301119), (26, 301216),
(26, 301217), (26, 301219), (26, 301315),
(26, 301417), (26, 551217), (26, 601227),
(26, 701316), (26, 701317), (26, 721015),
(26, 721415), (26, 721416), (26, 731811),
(26, 781018), (26, 801116), (26, 811015),
(26, 831015), (26, 931420), (26, 951115),
(26, 951116);
# contrato 27
INSERT INTO contratobys VALUES
(27, 111015), (27, 111016), (27, 111017),
(27, 111019), (27, 111115), (27, 111116),
(27, 111117), (27, 111118), (27, 111715),
(27, 111716), (27, 111717), (27, 111718),
(27, 111719), (27, 111720), (27, 111721),
(27, 111722), (27, 111723), (27, 121623),
(27, 121635), (27, 121649), (27, 121650),
(27, 151215), (27, 151218), (27, 151219),
(27, 221016), (27, 221017), (27, 221020),
(27, 231535), (27, 241218), (27, 271122),
(27, 301017), (27, 301036), (27, 301115);

INSERT INTO contratobys VALUES
(27, 301116), (27, 301118), (27, 301119),
(27, 301215), (27, 301216), (27, 301217);

INSERT INTO contratobys VALUES
(27, 301218), (27, 301219), (27, 301315),
(27, 301417), (27, 301517), (27, 301621),
(27, 301622), (27, 301717), (27, 301719),
(27, 311337), (27, 311522), (27, 311621),
(27, 311634), (27, 312016), (27, 312115),
(27, 312116), (27, 312117), (27, 312118),
(27, 312119), (27, 401716), (27, 411122),
(27, 461615), (27, 471015), (27, 551217),
(27, 551219), (27, 601227), (27, 701117),
(27, 701315), (27, 701316), (27, 701317),
(27, 721015), (27, 721029), (27, 721033),
(27, 721210), (27, 721213), (27, 721215),
(27, 721410), (27, 721411), (27, 721415),
(27, 721416), (27, 721510), (27, 721513),
(27, 721519), (27, 721520), (27, 721527),
(27, 721529), (27, 721532), (27, 721533),
(27, 721535), (27, 721537), (27, 721540),
(27, 731215), (27, 731218), (27, 731811),
(27, 761215), (27, 781018), (27, 801116),
(27, 801216), (27, 811015), (27, 811016),
(27, 811017), (27, 811018), (27, 811019),
(27, 811020), (27, 811021), (27, 811022),
(27, 811023), (27, 811024), (27, 811027),
(27, 811517), (27, 811518), (27, 811519),
(27, 831015), (27, 931420), (27, 951016),
(27, 951017), (27, 951018), (27, 951115),
(27, 951116), (27, 951215), (27, 951216),
(27, 951217), (27, 951219), (27, 951224);
# contrato 28
INSERT INTO contratobys VALUES
(28, 111216), (28, 121649), (28, 121650),
(28, 151215), (28, 151218), (28, 151219),
(28, 221020), (28, 231015), (28, 251741),
(28, 261216), (28, 271120), (28, 271122),
(28, 301017), (28, 301036), (28, 301115),
(28, 301116), (28, 301119), (28, 301218),
(28, 301315), (28, 301515), (28, 301516),
(28, 301517), (28, 301616), (28, 301617),
(28, 301618), (28, 301619), (28, 301620),
(28, 301621), (28, 301624), (28, 301715),
(28, 301716), (28, 301718), (28, 301719),
(28, 301720), (28, 301721), (28, 301815),
(28, 301816), (28, 301817), (28, 301818),
(28, 301915), (28, 311522), (28, 311621),
(28, 312115), (28, 312116), (28, 312118),
(28, 312119), (28, 312617), (28, 391116),
(28, 391118), (28, 391213), (28, 391214),
(28, 391217), (28, 391222), (28, 391223),
(28, 391317), (28, 401015), (28, 401016),
(28, 401017), (28, 401018), (28, 401019),
(28, 401020), (28, 401021), (28, 401417),
(28, 422116), (28, 461915), (28, 461916);
# contrato 29
INSERT INTO contratobys VALUES
(29, 111015), (29, 111016), (29, 111017),
(29, 111019), (29, 111115), (29, 111116),
(29, 111117), (29, 111118), (29, 111715),
(29, 111716), (29, 111717), (29, 111718),
(29, 111719), (29, 111720), (29, 111721),
(29, 111722), (29, 111723), (29, 121649),
(29, 121650), (29, 221020), (29, 241118),
(29, 271122), (29, 301017), (29, 301036),
(29, 301115), (29, 301116), (29, 301118),
(29, 301119), (29, 301217), (29, 301219),
(29, 301315), (29, 301517), (29, 301621),
(29, 301622), (29, 301719), (29, 311522),
(29, 311621), (29, 401615), (29, 471016),
(29, 701315), (29, 701316), (29, 701317),
(29, 701617), (29, 701715), (29, 701716),
(29, 701717), (29, 701718), (29, 711513),
(29, 721015), (29, 721029), (29, 721033),
(29, 721210), (29, 721213), (29, 721410),
(29, 721413), (29, 721415), (29, 721416);
# contrato 30
INSERT INTO contratobys VALUES
(30, 111015), (30, 111016), (30, 111017),
(30, 111019), (30, 111115), (30, 111116),
(30, 111117), (30, 111118), (30, 111715),
(30, 111716), (30, 111717), (30, 111718),
(30, 111719), (30, 111720), (30, 111721),
(30, 111722), (30, 111723), (30, 121649),
(30, 121650), (30, 151215), (30, 151218),
(30, 151219), (30, 221017), (30, 241118),
(30, 241218), (30, 251727), (30, 271120),
(30, 271122), (30, 301017), (30, 301036),
(30, 301115), (30, 301116), (30, 301118),
(30, 301119), (30, 301215), (30, 301216),
(30, 301217), (30, 301219), (30, 301315),
(30, 301517), (30, 301621), (30, 311522),
(30, 311621), (30, 401615), (30, 471016),
(30, 701315), (30, 701316), (30, 701317);
# contrato 31
INSERT INTO contratobys VALUES
(31, 271122), (31, 301017), (31, 301036),
(31, 301115), (31, 301116), (31, 301118),
(31, 301119), (31, 301215), (31, 301216),
(31, 301217), (31, 301219), (31, 401716),
(31, 411122), (31, 461615), (31, 471016),
(31, 551217), (31, 551219), (31, 701518),
(31, 701519), (31, 701616), (31, 701617),
(31, 701715), (31, 721015), (31, 721415),
(31, 771015), (31, 771016), (31, 771017),
(31, 771018), (31, 771019), (31, 771020),
(31, 771115), (31, 771116), (31, 771215),
(31, 771216), (31, 771217), (31, 771315),
(31, 771317), (31, 781018), (31, 801015),
(31, 801016), (31, 801017), (31, 801115),
(31, 801116), (31, 801216), (31, 811015),
(31, 931420), (31, 951016), (31, 951017);
# contrato 32
INSERT INTO contratobys VALUES
(32, 111015), (32, 111016), (32, 111017),
(32, 111019), (32, 111115), (32, 111116),
(32, 111117), (32, 111118), (32, 111715),
(32, 111716), (32, 111717), (32, 111718),
(32, 111719), (32, 111720), (32, 111721),
(32, 111722), (32, 121623), (32, 121649),
(32, 121650), (32, 301017), (32, 301036),
(32, 301115), (32, 301116), (32, 301118),
(32, 301219), (32, 301315), (32, 301517),
(32, 471016), (32, 701315), (32, 701316),
(32, 701317), (32, 701617), (32, 701718),
(32, 721415), (32, 761217), (32, 771115),
(32, 771217), (32, 801216), (32, 811015),
(32, 831015), (32, 931420);
# contrato 33
INSERT INTO contratobys VALUES
(33, 241129), (33, 241215), (33, 401615);
# contrato 34
INSERT INTO contratobys VALUES
(34, 111015), (34, 111016), (34, 111017),
(34, 111019), (34, 111115), (34, 111116),
(34, 111117), (34, 111118), (34, 111715),
(34, 111716), (34, 111717), (34, 121649),
(34, 121650), (34, 301036), (34, 301115),
(34, 301116), (34, 301118), (34, 301119),
(34, 301219), (34, 301315), (34, 301816),
(34, 401716), (34, 471015), (34, 471016),
(34, 701315), (34, 701316), (34, 701317),
(34, 721015), (34, 721415), (34, 761217),
(34, 771115), (34, 771217), (34, 801116),
(34, 811015), (34, 831015), (34, 931420);
# contrato 35
INSERT INTO contratobys VALUES
(35, 151218), (35, 151219), (35, 221015),
(35, 221017), (35, 221020), (35, 231535),
(35, 391223), (35, 391317), (35, 401416);

INSERT INTO contratobys VALUES
(35, 401749), (35, 401752), (35, 411125),
(35, 422121), (35, 461615), (35, 491215),
(35, 491415), (35, 491416), (35, 551217),
(35, 551219), (35, 561215), (35, 601049),
(35, 601227), (35, 701115), (35, 701116),
(35, 701117), (35, 721015), (35, 721029);

INSERT INTO contratobys VALUES
(35, 721515), (35, 721519), (35, 721520),
(35, 721522), (35, 721525),
(35, 721527), (35, 721529);
# contrato 36
INSERT INTO contratobys VALUES
(36, 241015), (36, 241019), (36, 241118),
(36, 241215), (36, 301623), (36, 432321),
(36, 432324), (36, 451015), (36, 451016),
(36, 461815), (36, 461816), (36, 461817),
(36, 461818), (36, 471217), (36, 471218),
(36, 471219), (36, 471316), (36, 471317),
(36, 471318), (36, 471321), (36, 521415),
(36, 551015), (36, 551115), (36, 551215),
(36, 551217), (36, 601217), (36, 721526),
(36, 731415), (36, 731519), (36, 731811);
# contrato 37
INSERT INTO contratobys VALUES
(37, 201117), (37, 201210), (37, 201213),
(37, 201214), (37, 201215), (37, 201222),
(37, 201225), (37, 201227), (37, 201228),
(37, 201410), (37, 201413), (37, 201414),
(37, 201424), (37, 211018), (37, 241015),
(37, 241016), (37, 241019), (37, 241115),
(37, 261117), (37, 261418), (37, 271115),
(37, 271116), (37, 271117), (37, 271118),
(37, 271119), (37, 271120), (37, 271121),
(37, 271122), (37, 271123), (37, 271124),
(37, 271125), (37, 271126), (37, 271127),
(37, 271128), (37, 271129), (37, 271131),
(37, 271132), (37, 271133), (37, 271217);

INSERT INTO contratobys VALUES
(37, 271218), (37, 271315), (37, 271410),
(37, 271411), (37, 301116), (37, 301316),
(37, 302417), (37, 311621), (37, 311628),
(37, 312015), (37, 313111), (37, 313112),
(37, 313113), (37, 313114), (37, 313513),
(37, 313514), (37, 313515), (37, 313516),
(37, 313517), (37, 391213), (37, 391217),
(37, 391317), (37, 401015), (37, 401416),
(37, 401417), (37, 401420), (37, 401615),
(37, 401616), (37, 401715), (37, 401716),
(37, 401730), (37, 461816), (37, 461817),
(37, 461818), (37, 471217), (37, 521317),
(37, 551215), (37, 761215), (37, 761223),
(37, 771016), (37, 771017), (37, 771018),
(37, 771115), (37, 771116), (37, 801116);
# contrato 38
INSERT INTO contratobys VALUES
(38, 251727), (38, 301918), (38, 411034),
(38, 432216), (38, 432217), (38, 432218),
(38, 701317), (38, 701518), (38, 701717),
(38, 711227), (38, 721029), (38, 721516),
(38, 771015), (38, 771016), (38, 771017),
(38, 771018), (38, 771019), (38, 771020),
(38, 771115), (38, 771116), (38, 771217),
(38, 811015), (38, 811122), (38, 811515),
(38, 811516), (38, 811517), (38, 811518),
(38, 811519), (38, 921217);
# contrato 39
INSERT INTO contratobys VALUES
(39, 241015), (39, 241019), (39, 241020),
(39, 241021), (39, 241118), (39, 461824),
(39, 471217), (39, 551215), (39, 561015),
(39, 561017), (39, 761215), (39, 761223),
(39, 771016), (39, 771017), (39, 771018),
(39, 771115), (39, 771116), (39, 801116),
(39, 931415), (39, 931419);
# contrato 40
INSERT INTO contratobys VALUES
(40, 111019), (40, 111115), (40, 111116), (40, 111117), (40, 111118),
(40, 111715), (40, 111716), (40, 111717), (40, 121649), (40, 121650),
(40, 221020), (40, 241118), (40, 271122), (40, 301017), (40, 301036),
(40, 301115), (40, 301118), (40, 301119), (40, 301219), (40, 301315),
(40, 301719), (40, 301816), (40, 311522), (40, 311621), (40, 401515),
(40, 401517), (40, 401716), (40, 471015), (40, 471016), (40, 701315),
(40, 701316), (40, 701317), (40, 701617), (40, 701715), (40, 701717),
(40, 701718), (40, 721015), (40, 721029), (40, 721033), (40, 721210),
(40, 721213), (40, 721215), (40, 721415), (40, 721527), (40, 721529),
(40, 721533), (40, 721535), (40, 731517), (40, 761217), (40, 771115),
(40, 771217), (40, 801116), (40, 811015), (40, 831015), (40, 931420);
# contrato 41
INSERT INTO contratobys VALUES
(41, 101016), (41, 101515), (41, 101516), (41, 101517), (41, 101518),
(41, 101519), (41, 101520), (41, 101715), (41, 101716), (41, 111621),
(41, 111622), (41, 241015), (41, 271116), (41, 271118), (41, 271120),
(41, 271121), (41, 301029), (41, 301119), (41, 311624), (41, 311625),
(41, 311626), (41, 311628), (41, 311632), (41, 311633), (41, 461715),
(41, 461815), (41, 461816), (41, 461817), (41, 461818), (41, 461819),
(41, 461820), (41, 502025), (41, 502026), (41, 502027), (41, 502028),
(41, 502030);
# contrato 42
INSERT INTO contratobys VALUES
(42, 241015), (42, 451117), (42, 491017), (42, 491615), (42, 492215),
(42, 501115), (42, 501120), (42, 501316), (42, 501317), (42, 501318),
(42, 501515), (42, 501516), (42, 501615), (42, 501618), (42, 501715),
(42, 501719), (42, 501720), (42, 501817), (42, 501819), (42, 501820),
(42, 501915), (42, 501921), (42, 501923), (42, 501924), (42, 501925),
(42, 501926), (42, 501927), (42, 501928), (42, 501929), (42, 501930),
(42, 501931), (42, 501932), (42, 502017), (42, 502023), (42, 502210),
(42, 502211), (42, 502212), (42, 502213), (42, 503223), (42, 504045),
(42, 504144), (42, 504245), (42, 504445), (42, 504645), (42, 511916),
(42, 531029), (42, 531030), (42, 531031), (42, 531119), (42, 851515),
(42, 901415), (42, 901416), (42, 931316), (42, 941215);
# contrato 43
INSERT INTO contratobys VALUES
(43, 491017), (43, 501115), (43, 501120), (43, 501316), (43, 501317),
(43, 501318), (43, 501515), (43, 501516), (43, 501615), (43, 501618),
(43, 501715), (43, 501719), (43, 501720), (43, 501817), (43, 501819),
(43, 501820), (43, 501915), (43, 501921), (43, 501923), (43, 501924),
(43, 501925), (43, 501926), (43, 501927), (43, 501928), (43, 501929),
(43, 501930), (43, 501931), (43, 501932), (43, 502017), (43, 502023),
(43, 502210), (43, 502211), (43, 502212), (43, 502213), (43, 503223),
(43, 504045), (43, 504144), (43, 504245), (43, 504445), (43, 504645),
(43, 851515), (43, 931316);
# contrato 44
INSERT INTO contratobys VALUES
(44, 241015), (44, 241019), (44, 241118), (44, 241215), (44, 301623),
(44, 432324), (44, 451015), (44, 451016), (44, 461815), (44, 461816),
(44, 461817), (44, 461818), (44, 471217), (44, 471218), (44, 471219),
(44, 471316), (44, 471317), (44, 471318), (44, 471321), (44, 521415),
(44, 551015), (44, 551115), (44, 551215), (44, 551217), (44, 601217),
(44, 721526), (44, 731415), (44, 731519), (44, 731811), (44, 761215),
(44, 761216), (44, 761223), (44, 771016), (44, 771017), (44, 771018),
(44, 771115), (44, 771116), (44, 801116), (44, 821018), (44, 821019),
(44, 821118), (44, 821119), (44, 821215), (44, 821216), (44, 821217),
(44, 821218), (44, 821315), (44, 821415), (44, 821515), (44, 831118);
# contrato 45
INSERT INTO contratobys VALUES
(45, 461815), (45, 531017), (45, 531018), (45, 531025), (45, 531027);
# contrato 46
INSERT INTO contratobys VALUES
(46, 101716), (46, 241015), (46, 241019), (46, 251016), (46, 271120),
(46, 271121), (46, 271122), (46, 311520), (46, 311624), (46, 391217),
(46, 441221), (46, 471217), (46, 551215), (46, 701515), (46, 731016),
(46, 761215), (46, 761223), (46, 771016), (46, 771017), (46, 771018),
(46, 771115), (46, 771116), (46, 801116);
# contrato 47
INSERT INTO contratobys VALUES
(47, 111015), (47, 111016), (47, 111017), (47, 111018), (47, 111019),
(47, 111115), (47, 111116), (47, 111117), (47, 111118), (47, 111715),
(47, 111716), (47, 111717), (47, 121649), (47, 121650), (47, 221020),
(47, 241118), (47, 271122), (47, 301017), (47, 301036), (47, 301115),
(47, 301118), (47, 301119), (47, 301219), (47, 301315), (47, 301619),
(47, 301816), (47, 311522), (47, 311621), (47, 401515), (47, 401517),
(47, 401716), (47, 471015), (47, 471016), (47, 701315), (47, 701316),
(47, 701317), (47, 701517), (47, 701617), (47, 701715), (47, 701718),
(47, 721015), (47, 721029), (47, 721033), (47, 721210), (47, 721213),
(47, 721215), (47, 721411), (47, 721415), (47, 721527), (47, 721529),
(47, 721533), (47, 721535), (47, 731517), (47, 761217), (47, 771115),
(47, 771217), (47, 801116), (47, 811015), (47, 831015), (47, 931420);
# contrato 48
INSERT INTO contratobys VALUES
(48, 461815), (48, 492215), (48, 531017), (48, 531018), (48, 531024),
(48, 531025), (48, 531027), (48, 531030), (48, 531116);
# contrato 49
INSERT INTO contratobys VALUES
(49, 201429), (49, 422119), (49, 471317), (49, 481015), (49, 481016),
(49, 481018), (49, 481019), (49, 481020), (49, 481021), (49, 481110),
(49, 481111), (49, 481112), (49, 501115), (49, 501120), (49, 501215),
(49, 501216), (49, 501217), (49, 501218), (49, 501219), (49, 501316),
(49, 501317), (49, 501318), (49, 501515), (49, 501516), (49, 501615),
(49, 501618), (49, 501715), (49, 501717), (49, 501718), (49, 501719),
(49, 501720), (49, 501817), (49, 501819), (49, 501820), (49, 501915),
(49, 501921), (49, 501923), (49, 501924), (49, 501925), (49, 501926),
(49, 501927), (49, 501928), (49, 501929), (49, 501930), (49, 501931),
(49, 501932), (49, 502017), (49, 502022), (49, 502023), (49, 502024),
(49, 502025), (49, 502026), (49, 502027), (49, 502028), (49, 502030),
(49, 502210), (49, 502211), (49, 502212), (49, 502213), (49, 504035),
(49, 504045), (49, 504134), (49, 504144), (49, 504234), (49, 504244),
(49, 504245), (49, 504334), (49, 504344), (49, 504345), (49, 504434),
(49, 504444), (49, 504445), (49, 504534), (49, 504544), (49, 504634),
(49, 504644), (49, 504734), (49, 504744), (49, 504745), (49, 511415),
(49, 511418), (49, 511516), (49, 511518), (49, 511520), (49, 601056),
(49, 701415), (49, 731316), (49, 731317), (49, 731318), (49, 731319),
(49, 801116), (49, 851515), (49, 851516), (49, 851517), (49, 901015),
(49, 901017), (49, 931316), (49, 931415);
# contrato 50
INSERT INTO contratobys VALUES
(50, 101519), (50, 101520), (50, 101521), (50, 101522), (50, 101615),
(50, 101618), (50, 101619), (50, 101715), (50, 101716), (50, 101717),
(50, 101718), (50, 101915), (50, 101917), (50, 111115), (50, 111116),
(50, 111117), (50, 111118), (50, 111215), (50, 111216), (50, 111217),
(50, 111218), (50, 123523), (50, 141015), (50, 211015), (50, 211016),
(50, 211017), (50, 211018), (50, 211019), (50, 211020), (50, 211021),
(50, 211022), (50, 211023), (50, 701315), (50, 701316), (50, 701317),
(50, 701415), (50, 701416), (50, 701417), (50, 701418), (50, 701419),
(50, 701420), (50, 701515), (50, 701516), (50, 701517), (50, 701518),
(50, 781315), (50, 801016), (50, 801017), (50, 801115), (50, 841015),
(50, 841017), (50, 841115), (50, 841116), (50, 851515), (50, 851516),
(50, 851517), (50, 861015), (50, 931318), (50, 941317), (50, 941320),
(50, 951019);
# contrato 51
INSERT INTO contratobys VALUES
(51, 111017), (51, 111715), (51, 111716), (51, 231530), (51, 301017),
(51, 301036), (51, 301521), (51, 301617), (51, 302415), (51, 302636),
(51, 302637), (51, 302638), (51, 302639), (51, 302640), (51, 302645),
(51, 302667), (51, 311615), (51, 311620), (51, 311623), (51, 311624),
(51, 312314), (51, 313115), (51, 313117), (51, 551219), (51, 701017),
(51, 721015), (51, 721214), (51, 721415), (51, 721529), (51, 721542),
(51, 771015), (51, 771016), (51, 771017), (51, 771018), (51, 771020),
(51, 771115), (51, 801015), (51, 801016), (51, 801017), (51, 811015),
(51, 811016), (51, 811518), (51, 931420);
# contrato 52
INSERT INTO contratobys VALUES
(52, 111017), (52, 111715), (52, 111716), (52, 231530), (52, 301017),
(52, 301036), (52, 301521), (52, 301617), (52, 302415), (52, 302636),
(52, 302637), (52, 302638), (52, 302639), (52, 302640), (52, 302645),
(52, 302667), (52, 311615), (52, 311620), (52, 311623), (52, 311624),
(52, 312314), (52, 313115), (52, 313117), (52, 551219), (52, 701017),
(52, 721015), (52, 721214), (52, 721415), (52, 721529), (52, 721542),
(52, 771015), (52, 771016), (52, 771017), (52, 771018), (52, 771020),
(52, 771115), (52, 801015), (52, 801016), (52, 801017), (52, 811015),
(52, 811016), (52, 811518), (52, 931420);
# contrato 53
INSERT INTO contratobys VALUES
(53, 101017), (53, 111715), (53, 111716), (53, 231530), (53, 301017),
(53, 301036), (53, 301521), (53, 301617), (53, 302415), (53, 302636),
(53, 302637), (53, 302638), (53, 302639), (53, 302640), (53, 302645),
(53, 302667), (53, 311615), (53, 311620), (53, 311623), (53, 311624),
(53, 312314), (53, 313115), (53, 313117), (53, 491715), (53, 492015),
(53, 492016), (53, 492415), (53, 492416), (53, 551219), (53, 601055),
(53, 701017), (53, 721015), (53, 721214), (53, 721415), (53, 721529),
(53, 721542), (53, 721531), (53, 771015), (53, 771016), (53, 771017),
(53, 771018), (53, 771020), (53, 771115), (53, 801015), (53, 801016),
(53, 801017), (53, 811015), (53, 811016), (53, 811518), (53, 931420);
# contrato 54
INSERT INTO contratobys VALUES
(54, 111715), (54, 111716), (54, 111917), (54, 111918), (54, 141015),
(54, 201015), (54, 201018), (54, 201211), (54, 201216), (54, 271115),
(54, 271116), (54, 271121), (54, 301015), (54, 301017), (54, 301018),
(54, 301023), (54, 301024), (54, 301036), (54, 301037), (54, 301115),
(54, 301116), (54, 301119), (54, 301315), (54, 301316), (54, 301521),
(54, 301617), (54, 302636), (54, 302637), (54, 302638), (54, 302639),
(54, 302640), (54, 302645), (54, 302648), (54, 302667), (54, 311522),
(54, 311620), (54, 311623), (54, 311624), (54, 312314), (54, 313115),
(54, 311615), (54, 311620), (54, 311623), (54, 311624), (54, 311628),
(54, 311915), (54, 312115), (54, 492215), (54, 601055), (54, 601412),
(54, 601413), (54, 721015), (54, 721029), (54, 721033), (54, 721214),
(54, 721513), (54, 721514), (54, 721525), (54, 721529), (54, 721531);
# contrato 55
INSERT INTO contratobys VALUES
(55, 101017), (55, 101915), (55, 101917), (55, 111715), (55, 111716),
(55, 231530), (55, 271120), (55, 301017), (55, 301036), (55, 301521),
(55, 301617), (55, 302415), (55, 302636), (55, 302637), (55, 302638),
(55, 302639), (55, 302640), (55, 302645), (55, 302667), (55, 311615),
(55, 311620), (55, 311623), (55, 311624), (55, 312314), (55, 313115),
(55, 313117), (55, 321016), (55, 411152), (55, 411165), (55, 421322),
(55, 432014), (55, 432015), (55, 432117), (55, 451215), (55, 461716),
(55, 551219), (55, 701017), (55, 701518), (55, 721015), (55, 721214),
(55, 721415), (55, 721529), (55, 721542), (55, 731615), (55, 771015),
(55, 771016), (55, 771017), (55, 771018), (55, 771020), (55, 771115),
(55, 801015), (55, 801016), (55, 801017), (55, 811015), (55, 811016),
(55, 811518), (55, 931420);
# contrato 56
INSERT INTO contratobys VALUES
(56, 301017), (56, 301036), (56, 301115), (56, 301116), (56, 301118),
(56, 301119), (56, 301315), (56, 301316), (56, 301617), (56, 301717),
(56, 301719), (56, 301915), (56, 311522), (56, 311621), (56, 312115),
(56, 312116), (56, 312118), (56, 312119), (56, 391116), (56, 391118),
(56, 391213), (56, 391214), (56, 391217), (56, 391222), (56, 391223),
(56, 391317), (56, 401416), (56, 401417), (56, 401515), (56, 401517),
(56, 401715), (56, 401717), (56, 401735), (56, 401736), (56, 401738),
(56, 401746), (56, 401747), (56, 401749), (56, 401752), (56, 411125),
(56, 422121), (56, 461615), (56, 492215), (56, 492415), (56, 492416),
(56, 721029), (56, 721033), (56, 721513), (56, 721515), (56, 721519),
(56, 721520), (56, 721522), (56, 721525), (56, 721527), (56, 721529),
(56, 721535), (56, 721536), (56, 721537), (56, 721540), (56, 721543),
(56, 731218), (56, 731521), (56, 731811), (56, 761216), (56, 801016),
(56, 801116), (56, 801216), (56, 811015), (56, 831015);
# contrato 57
INSERT INTO contratobys VALUES
(57, 251727), (57, 301918), (57, 411034), (57, 432216), (57, 432217),
(57, 432218), (57, 701317), (57, 701518), (57, 701717), (57, 711219),
(57, 711220), (57, 711227), (57, 721029), (57, 721516), (57, 771015),
(57, 771016), (57, 771017), (57, 771018), (57, 771019), (57, 771020),
(57, 771115), (57, 771116), (57, 771217), (57, 811015), (57, 811027),
(57, 811122), (57, 811515), (57, 811516), (57, 811517), (57, 811518),
(57, 811519), (57, 921217);
# contrato 58
INSERT INTO contratobys VALUES
(58, 111621), (58, 111622), (58, 231215), (58, 231216), (58, 461815),
(58, 531018), (58, 531415), (58, 531416), (58, 731417);
# contrato 59
INSERT INTO contratobys VALUES
(59, 251727), (59, 301918), (59, 411034), (59, 432216), (59, 432217),
(59, 432218), (59, 451215), (59, 721029), (59, 721516), (59, 771015),
(59, 771016), (59, 771017), (59, 771018), (59, 771019), (59, 771020),
(59, 771115), (59, 771116), (59, 771217), (59, 811015), (59, 811122),
(59, 811515), (59, 811516), (59, 811517), (59, 811518), (59, 811519),
(59, 921217);
# contrato 60
INSERT INTO contratobys VALUES
(60, 251727), (60, 301918), (60, 411034), (60, 411138), (60, 411143),
(60, 432216), (60, 432217), (60, 432218), (60, 451215), (60, 701715),
(60, 721029), (60, 721516), (60, 771015), (60, 771016), (60, 771017),
(60, 771018), (60, 771019), (60, 771020), (60, 771115), (60, 771116),
(60, 811119), (60, 811120), (60, 811415), (60, 811418), (60, 811515),
(60, 811516), (60, 811517), (60, 811518), (60, 811519), (60, 921217);
# contrato 61
INSERT INTO contratobys VALUES
(61, 111621), (61, 111622), (61, 231215), (61, 231216), (61, 461815),
(61, 492215), (61, 521215), (61, 521217), (61, 531017), (61, 531018),
(61, 531024), (61, 531025), (61, 531027), (61, 531030), (61, 531116),
(61, 531415), (61, 531416);
# contrato 62
INSERT INTO contratobys VALUES
(62, 251727), (62, 301918), (62, 411034), (62, 411138), (62, 411143),
(62, 432216), (62, 432217), (62, 432218), (62, 451215), (62, 701715),
(62, 811418), (62, 811515), (62, 811516), (62, 811517), (62, 811518),
(62, 811519), (62, 921217);
# contrato 63
INSERT INTO contratobys VALUES
(63, 471015), (63, 701717), (63, 721015), (63, 721110), (63, 721511),
(63, 721515), (63, 721518), (63, 731521), (63, 761115), (63, 771016),
(63, 771115), (63, 771116), (63, 771217), (63, 811015), (63, 931419),
(63, 931420);
# contrato 64
INSERT INTO contratobys VALUES
(64, 201429), (64, 211024), (64, 231015), (64, 231529), (64, 231815),
(64, 261117), (64, 271119), (64, 271120), (64, 271121), (64, 271122),
(64, 271127), (64, 271315), (64, 302417), (64, 312119), (64, 391016),
(64, 391018), (64, 391019), (64, 391115), (64, 391116), (64, 391117),
(64, 391118), (64, 391119), (64, 401015), (64, 401018), (64, 401019),
(64, 401417), (64, 401420), (64, 401515), (64, 401715), (64, 401716),
(64, 401717), (64, 401721), (64, 401815), (64, 401816), (64, 401831),
(64, 431915), (64, 471217), (64, 481015), (64, 491215), (64, 531018),
(64, 531215), (64, 601014), (64, 701216), (64, 781118), (64, 951317);
#  contrato 65
INSERT INTO contratobys VALUES
(65, 251727), (65, 301918), (65, 411034), (65, 411143), (65, 432216),
(65, 432217), (65, 432218), (65, 451215), (65, 701715), (65, 721029),
(65, 721516), (65, 771015), (65, 771016), (65, 771017), (65, 771018),
(65, 771019), (65, 771020), (65, 771115), (65, 771116), (65, 771217),
(65, 811515), (65, 811516), (65, 811517), (65, 811518), (65, 811519),
(65, 921217);
# contrato 66
INSERT INTO contratobys VALUES
(66, 221019), (66, 251016), (66, 271122), (66, 301022), (66, 301032),
(66, 301316), (66, 302638), (66, 701715), (66, 721015), (66, 721214),
(66, 721415), (66, 721511), (66, 721516), (66, 721517), (66, 721519),
(66, 801015), (66, 801016), (66, 801017), (66, 801116), (66, 801117),
(66, 801615), (66, 801015);
# contrato 67
INSERT INTO contratobys VALUES
(67, 101521), (67, 211018), (67, 211019), (67, 271122), (67, 411122),
(67, 421822), (67, 461815), (67, 471217), (67, 761215), (67, 761219),
(67, 761220), (67, 761223), (67, 761224), (67, 781419);
# contrato 68
INSERT INTO contratobys VALUES
(68, 251015), (68, 251016), (68, 251019), (68, 431915), (68, 432117),
(68, 432321), (68, 441115), (68, 441217), (68, 441219), (68, 441220),
(68, 481015), (68, 481016), (68, 481017), (68, 481018), (68, 481020),
(68, 491215), (68, 521615), (68, 531018), (68, 531025), (68, 531030),
(68, 551015), (68, 551217), (68, 601026), (68, 761220), (68, 761223),
(68, 771015), (68, 771016), (68, 771017), (68, 771018), (68, 771019),
(68, 771020), (68, 771115), (68, 771116), (68, 781316), (68, 781317),
(68, 781318), (68, 781415), (68, 801415), (68, 811116), (68, 811315),
(68, 901015), (68, 901016), (68, 901017), (68, 901018), (68, 901115),
(68, 901118), (68, 931415), (68, 931416), (68, 931417), (68, 931418),
(68, 931419), (68, 931420), (68, 931421), (68, 931515), (68, 951317),
(68, 951417);
# contrato 69
INSERT INTO contratobys VALUES
(69, 391210), (69, 422119), (69, 422318), (69, 471317), (69, 471318),
(69, 471321), (69, 481016), (69, 481017), (69, 481018), (69, 481019),
(69, 481020), (69, 481021), (69, 481110), (69, 481111), (69, 501115),
(69, 501120), (69, 501215), (69, 501216), (69, 501217), (69, 501218),
(69, 501219), (69, 501316), (69, 501317), (69, 501318), (69, 501515),
(69, 501516), (69, 501615), (69, 501618), (69, 501715), (69, 501717),
(69, 501718), (69, 501719), (69, 501720), (69, 501817), (69, 501819),
(69, 501820), (69, 501915), (69, 501921), (69, 501923), (69, 501924),
(69, 501925), (69, 501926), (69, 501927), (69, 501928), (69, 501929),
(69, 501930), (69, 501931), (69, 501932), (69, 502017), (69, 502022),
(69, 502023), (69, 502024), (69, 502025), (69, 502026), (69, 502027),
(69, 502028), (69, 502030), (69, 502210),(69, 502211), (69, 502212), 
(69, 502213), (69, 504035), (69, 504045), (69, 504134), (69, 504144),
(69, 504235), (69, 504335), (69, 504435), (69, 504535), (69, 504545),
(69, 504635), (69, 504735), (69, 521415), (69, 521418), (69, 521516),
(69, 521517), (69, 521518), (69, 521519), (69, 521520), (69, 601056),
(69, 701415), (69, 731316), (69, 731317), (69, 731318), (69, 731319),
(69, 781018), (69, 781318), (69, 801116), (69, 801416), (69, 811416),
(69, 851515), (69, 851516), (69, 851517), (69, 901015), (69, 901017),
(69, 901018), (69, 901316), (69, 931316), (69, 931415);
# contrato 70
INSERT INTO contratobys VALUES
(70, 111815), (70, 111915), (70, 111916),(70, 111918), (70, 121417), 
(70, 201220), (70, 211015), (70, 301017),(70, 301020), (70, 301022),
(70, 301036), (70, 301116), (70, 301316),(70, 301521), (70, 301617),
(70, 302415), (70, 302636), (70, 302637),(70, 302638), (70, 302639),
(70, 302640), (70, 302645), (70, 302667),(70, 311615), (70, 311620),
(70, 311623), (70, 311624), (70, 312314), (70, 313115), (70, 313117),
(70, 391210), (70, 401020), (70, 401021), (70, 481015), (70, 481016),
(70, 481018), (70, 481019), (70, 481020), (70, 481021), (70, 521522),
(70, 701715), (70, 721015), (70, 721415), (70, 721519), (70, 721529),
(70, 771015), (70, 771016), (70, 771017), (70, 771018), (70, 771020),
(70, 771115), (70, 801016), (70, 801017), (70, 811015), (70, 811016),
(70, 851515), (70, 851517), (70, 931316), (70, 931415), (70, 931420);
# contrato 71
INSERT INTO contratobys VALUES
(71, 201429), (71, 422119), (71, 471317), (71, 481015), (71, 481016),
(71, 481018), (71, 481019), (71, 481020), (71, 481021), (71, 481110),
(71, 481111), (71, 481112), (71, 501115), (71, 501120), (71, 501215),
(71, 501216), (71, 501217), (71, 501218), (71, 501219), (71, 501316),
(71, 501317), (71, 501318), (71, 501515), (71, 501516), (71, 501615),
(71, 501618), (71, 501715), (71, 501717), (71, 501718), (71, 501719),
(71, 501720), (71, 501817), (71, 501819), (71, 501820), (71, 501915),
(71, 501921), (71, 501923), (71, 501924), (71, 501925), (71, 501926),
(71, 501927), (71, 501928), (71, 501929), (71, 501930), (71, 501931),
(71, 501932), (71, 502017), (71, 502022), (71, 502023), (71, 502024),
(71, 502025), (71, 502026), (71, 502027), (71, 502028), (71, 502030),
(71, 502210), (71, 502211),(71, 502212), (71, 502213), (71, 504035), 
(71, 504045), (71, 504134), (71, 504144), (71, 504235), (71, 504335), 
(71, 504435), (71, 504535), (71, 504545), (71, 504635), (71, 504735), 
(71, 521415), (71, 521416), (71, 521518), (71, 521520), (71, 601056), 
(71, 701415), (71, 731316), (71, 731317), (71, 731318), (71, 731319), 
(71, 801116), (71, 851515), (71, 851516), (71, 851517), (71, 901015), 
(71, 901017), (71, 931316), (71, 931415);
# contrato 72
INSERT INTO contratobys VALUES
(72, 201117), (72, 201210), (72, 201213), (72, 201214), (72, 201215),
(72, 201222), (72, 201225), (72, 201227), (72, 201228), (72, 201410),
(72, 201413), (72, 201414), (72, 201424), (72, 211018), (72, 241115),
(72, 261117), (72, 261418), (72, 271115), (72, 271116), (72, 271117),
(72, 271118), (72, 271119), (72, 271120), (72, 271121), (72, 271122),
(72, 271123), (72, 271124), (72, 271125), (72, 271126), (72, 271127),
(72, 271128), (72, 271129), (72, 271131), (72, 271132), (72, 271133),
(72, 271217), (72, 271218), (72, 271315), (72, 271410), (72, 271411),
(72, 301116), (72, 301316), (72, 302417), (72, 311621), (72, 311628),
(72, 312015), (72, 313111), (72, 313112), (72, 313113), (72, 313114),
(72, 313515), (72, 313514), (72, 313513), (72, 313512), (72, 313516),
(72, 313517), (72, 313615), (72, 391213), (72, 391217), (72, 391317),
(72, 401015), (72, 401416), (72, 401417), (72, 401420), (72, 401615),
(72, 401616), (72, 401715), (72, 401716), (72, 401730), (72, 461816),
(72, 461817), (72, 461818), (72, 521317);
# contrato 73
INSERT INTO contratobys VALUES
(73, 201429), (73, 422119), (73, 471317),
(73, 481015), (73, 481016), (73, 481018),
(73, 481019), (73, 481020), (73, 481021),
(73, 481110), (73, 481111), (73, 481112),
(73, 501115), (73, 501120), (73, 501215),
(73, 501216), (73, 501217), (73, 501218),
(73, 501219), (73, 501316), (73, 501317),
(73, 501318), (73, 501515), (73, 501516),
(73, 501615), (73, 501618), (73, 501717),
(73, 501719), (73, 501720), (73, 501817),
(73, 501819), (73, 501820), (73, 501915),
(73, 501921), (73, 501923), (73, 501924),
(73, 501925), (73, 501926), (73, 501927),
(73, 501928), (73, 501929), (73, 501930),
(73, 501931), (73, 501932), (73, 502017),
(73, 502022), (73, 502023), (73, 502024),
(73, 502025), (73, 502026), (73, 502027),
(73, 502028), (73, 502030), (73, 502210),
(73, 502211), (73, 502212), (73, 502213),
(73, 504035), (73, 504045), (73, 504134),
(73, 504144), (73, 504235), (73, 504335),
(73, 504435), (73, 504535), (73, 504545),
(73, 504635), (73, 504735), (73, 521415),
(73, 521418), (73, 521516), (73, 521518),
(73, 521520), (73, 601056), (73, 701415),
(73, 731316), (73, 731317), (73, 731318),
(73, 731319), (73, 801116), (73, 851515),
(73, 851516), (73, 851517), (73, 901015),
(73, 901017), (73, 931316), (73, 931415);
# contrato 74
INSERT INTO contratobys VALUES
(74, 111017), (74, 111715), (74, 111716),
(74, 201219), (74, 201220), (74, 231530),
(74, 251917), (74, 271116), (74, 271120),
(74, 271126), (74, 271127), (74, 301017),
(74, 301036), (74, 301116), (74, 301316),
(74, 301521), (74, 301617), (74, 302415),
(74, 302636), (74, 302637), (74, 302638),
(74, 302639), (74, 302640), (74, 302645),
(74, 302667), (74, 311615), (74, 311620),
(74, 311623), (74, 311624), (74, 312314),
(74, 313115), (74, 313117), (74, 701715),
(74, 721015), (74, 721415), (74, 721519),
(74, 721529), (74, 721542), (74, 721545),
(74, 771015), (74, 771016), (74, 771017),
(74, 771018), (74, 781815), (74, 811122);
# contrato 75
INSERT INTO contratobys VALUES
(75, 201429), (75, 422119), (75, 471317), (75, 481015),
(75, 481016), (75, 481018), (75, 481019), (75, 481020),
(75, 481021), (75, 481110), (75, 481111), (75, 481112),
(75, 501115), (75, 501120), (75, 501215), (75, 501216),
(75, 501217), (75, 501218), (75, 501219), (75, 501316),
(75, 501317), (75, 501318), (75, 501515), (75, 501516),
(75, 501615), (75, 501618), (75, 501717), (75, 501719),
(75, 501720), (75, 501817), (75, 501819), (75, 501820),
(75, 501915), (75, 501921), (75, 501923), (75, 501924),
(75, 501925), (75, 501926), (75, 501927), (75, 501928),
(75, 501929), (75, 501930), (75, 501931), (75, 501932),
(75, 502017), (75, 502022), (75, 502023), (75, 502024),
(75, 502025), (75, 502026), (75, 502027), (75, 502028),
(75, 502030), (75, 502210), (75, 502211), (75, 502212),
(75, 502213), (75, 504035), (75, 504045), (75, 504134),
(75, 504144), (75, 504235), (75, 504335), (75, 504435),
(75, 504535), (75, 504545), (75, 504635), (75, 504735),
(75, 521217), (75, 521415), (75, 521418), (75, 521516),
(75, 521518), (75, 521520), (75, 601056), (75, 701415),
(75, 731316), (75, 731317), (75, 731318), (75, 731319),
(75, 801116), (75, 851515), (75, 851516), (75, 851517),
(75, 901015), (75, 901017), (75, 931316), (75, 931415);
# contrato 76
INSERT INTO contratobys VALUES
(76, 111017), (76, 111715), (76, 111716), (76, 201219),
(76, 201220), (76, 231530), (76, 251917), (76, 271116),
(76, 271120), (76, 271126), (76, 271127), (76, 301017),
(76, 301036), (76, 301116), (76, 301316), (76, 301521),
(76, 301617), (76, 302415), (76, 302636), (76, 302637),
(76, 302638), (76, 302639), (76, 302640), (76, 302645),
(76, 302667), (76, 311615), (76, 311620), (76, 311623),
(76, 311624), (76, 312314), (76, 313115), (76, 313117),
(76, 701715), (76, 721015), (76, 721415), (76, 721519),
(76, 721529), (76, 721542), (76, 721545), (76, 771015),
(76, 771016), (76, 771017), (76, 771018), (76, 781815),
(76, 811122);
# contrato 77
INSERT INTO contratobys VALUES
(77, 111017), (77, 111715), (77, 111716), (77, 201219),
(77, 201220), (77, 231530), (77, 301017), (77, 301036),
(77, 301116), (77, 301316), (77, 301521), (77, 301617),
(77, 302415), (77, 302636), (77, 302637), (77, 302638),
(77, 302639), (77, 302640), (77, 302645), (77, 302667),
(77, 311615), (77, 311620), (77, 311623), (77, 311624),
(77, 312314), (77, 313115), (77, 313117), (77, 401020),
(77, 401021), (77, 701715), (77, 721015), (77, 721415),
(77, 721519), (77, 721529), (77, 721542), (77, 771015),
(77, 771016), (77, 771017), (77, 771018), (77, 771020),
(77, 771115), (77, 801015), (77, 801016), (77, 801017),
(77, 811015), (77, 811016), (77, 931420);
# contrato 78
INSERT INTO contratobys VALUES
(78, 111017), (78, 111715), (78, 111716), (78, 201219),
(78, 201220), (78, 231530), (78, 301017), (78, 301036),
(78, 301521), (78, 301617), (78, 302415), (78, 302636),
(78, 302637), (78, 302638), (78, 302639), (78, 302640),
(78, 302645), (78, 302667), (78, 311615), (78, 311620),
(78, 311623), (78, 311624), (78, 312314), (78, 313115);
INSERT INTO contratobys VALUES
(78, 771015), (78, 771016), (78, 771017), (78, 771018),
(78, 771020), (78, 771115), (78, 801015), (78, 801016),
(78, 801017), (78, 811015), (78, 811016), (78, 811518),
(78, 931420);

# eliminacion 
DELETE FROM contratobys
WHERE codigoBienesyServiciosFK = 811518 AND idRUPFK = 78;

# creacion de un procedimiento para poder modificar el idcliente
DELIMITER //
CREATE PROCEDURE mod_idcliente(idRUPi int, idCliente int)
BEGIN
UPDATE contrato
SET idClienteFK = idCliente
WHERE idRUP = idRUPi;
END//
DELIMITER ;

select idRUP, idClienteFK from contrato;
CALL mod_idCliente(1,1);
CALL mod_idCliente(2,22);
CALL mod_idCliente(3,2);
CALL mod_idCliente(4,3);
CALL mod_idCliente(5,22);
CALL mod_idCliente(6,4);
CALL mod_idCliente(7,13);
CALL mod_idCliente(8,3);
CALL mod_idCliente(9,3);
CALL mod_idCliente(10,5);
CALL mod_idCliente(11,5);
CALL mod_idCliente(12,5);
CALL mod_idCliente(13,13);
CALL mod_idCliente(14,6);
CALL mod_idCliente(15,8);
CALL mod_idCliente(16,7);
CALL mod_idCliente(17,8);
CALL mod_idCliente(18,9);
CALL mod_idCliente(19,22);
CALL mod_idCliente(20,10);
CALL mod_idCliente(21,3);
CALL mod_idCliente(22,22);
CALL mod_idCliente(23,13);
CALL mod_idCliente(24,22);
CALL mod_idCliente(25,22);
CALL mod_idCliente(26,22);
CALL mod_idCliente(27,11);
CALL mod_idCliente(28,3);
CALL mod_idCliente(29,3);
CALL mod_idCliente(30,22);
CALL mod_idCliente(31,12);
CALL mod_idCliente(32,13);
CALL mod_idCliente(33,14);
CALL mod_idCliente(34,13);
CALL mod_idCliente(35,3);
CALL mod_idCliente(36,13);
CALL mod_idCliente(37,15);
CALL mod_idCliente(38,13);
CALL mod_idCliente(39,13);
CALL mod_idCliente(40,13);
CALL mod_idCliente(41,1);
CALL mod_idCliente(42,2);
CALL mod_idCliente(43,2);
CALL mod_idCliente(44,3);
CALL mod_idCliente(45,16);
CALL mod_idCliente(46,13);
CALL mod_idCliente(47,17);
CALL mod_idCliente(48,6);
CALL mod_idCliente(49,18);
CALL mod_idCliente(50,3);
CALL mod_idCliente(51,13);
CALL mod_idCliente(52,13);
CALL mod_idCliente(53,13);
CALL mod_idCliente(54,19);
CALL mod_idCliente(55,13);
CALL mod_idCliente(56,13);
CALL mod_idCliente(57,13);
CALL mod_idCliente(58,20);
CALL mod_idCliente(59,13);
CALL mod_idCliente(60,13);
CALL mod_idCliente(61,15);
CALL mod_idCliente(62,13);
CALL mod_idCliente(63,22);
CALL mod_idCliente(64,13);
CALL mod_idCliente(65,13);
CALL mod_idCliente(66,13);
CALL mod_idCliente(67,13);
CALL mod_idCliente(68,13);
CALL mod_idCliente(69,21);
CALL mod_idCliente(70,21);
CALL mod_idCliente(71,21);
CALL mod_idCliente(72,22);
CALL mod_idCliente(73,23);
CALL mod_idCliente(74,23);
CALL mod_idCliente(75,23);
CALL mod_idCliente(76,23);
CALL mod_idCliente(77,13);
CALL mod_idCliente(78,13);
CALL mod_idCliente(79,13);

use gestioncontratos;

# insercion anexos
INSERT INTO anexos VALUES
("",1,1,1,0,1,0),("",2,1,0,0,0,0),("",3,0,0,0,1,1),
("",4,0,0,0,0,0),("",5,1,1,1,1,0),("",6,0,0,1,1,1),
("",7,0,1,0,1,0),("",8,1,1,0,0,1),("",9,0,0,1,1,0),
("",10,1,0,0,1,1),("",11,0,1,1,0,0),("",12,1,0,1,0,1),
("",13,1,1,1,1,0),("",14,0,1,0,0,1),("",15,1,0,0,1,0),
("",16,0,1,1,0,1),("",17,1,0,1,1,0),("",18,0,0,0,1,1),
("",19,0,1,1,1,0),("",20,1,0,0,0,0),("",21,1,1,0,1,1),
("",22,0,0,1,1,0),("",23,1,0,1,0,1);

INSERT INTO anexos VALUES
("",24,1,1,0,0,0),("",25,0,0,0,1,1),("",26,1,0,1,1,0),
("",27,0,1,0,1,0),("",28,0,1,1,0,1),("",29,1,0,1,0,0),
("",30,1,1,0,0,1),("",31,0,0,1,1,0),("",32,1,1,1,0,0),
("",33,0,0,1,0,1),("",34,1,0,1,1,1),("",35,0,1,1,0,0),
("",36,1,1,0,1,1),("",37,0,0,0,0,1),("",38,1,1,1,1,0),
("",39,0,0,1,0,0),("",40,1,0,0,1,1),("",41,1,1,1,0,1),
("",42,0,0,0,1,0),("",43,1,1,0,1,0),("",44,0,1,0,0,1),
("",45,1,0,1,1,1),("",46,0,0,0,1,0),("",47,1,1,1,0,0),
("",48,0,1,0,1,1),("",49,1,0,1,0,0),("",50,1,1,0,1,0),
("",51,0,0,1,0,1),("",52,1,0,0,1,1),("",53,1,1,1,0,0),
("",54,0,1,0,0,1),("",55,0,0,1,1,1),("",56,1,1,0,1,0),
("",57,1,0,0,0,0),("",58,0,1,1,0,1),("",59,1,0,1,1,1),
("",60,0,0,0,1,0),("",61,1,1,0,0,1),("",62,0,0,1,0,1),
("",63,1,0,1,1,0),("",64,0,1,1,1,1),("",65,1,0,0,0,1),
("",66,0,0,1,1,0),("",67,1,1,1,0,1),("",68,0,0,0,1,1),
("",69,1,1,1,1,0),("",70,0,0,0,0,0),("",71,1,1,1,0,1),
("",72,0,1,0,1,0),("",73,1,0,0,1,1),("",74,0,0,1,0,0),
("",75,1,1,0,1,1),("",76,0,1,1,0,1),("",77,0,0,1,1,0),
("",78,1,1,1,1,0),("",79,0,0,0,1,1);

# Consultas generales

# consulta bsica
select * from contrato;
select codigoContrato, valorContrato from contrato;
select * from cliente;

# consultas especficas
# consultar el contrato de mayor y menor valor
SELECT codigoContrato, valorContrato
FROM contrato
WHERE valorContrato = (SELECT max(valorContrato) FROM contrato);

SELECT codigoContrato, valorContrato
FROM contrato
WHERE valorContrato = (SELECT min(valorContrato) FROM contrato WHERE valorContrato > 0); # para evadir los que no hay info.

# consultar las actividades que realiz un contrato en especfico
SELECT c.codigoContrato, c.fechaInicio, b.descripcionActividad
FROM contrato c
INNER JOIN contratobys bys ON bys.idRUPFK = c.idRUP
INNER JOIN bienesyservicios b ON b.codigoBienesyServicios = bys.codigoBienesyServiciosFK
WHERE c.idRUP = 6;

# consultar el cliente que celebr el contrato ms viejo
SELECT c.codigoContrato, min(c.fechaInicio), cl.nombreEntidad
FROM contrato c
INNER JOIN cliente cl ON c.idClienteFK = cl.idCliente
WHERE c.fechaInicio > 0;

# consultar los contratos que tienen acta de inicio y certificacion
SELECT c.codigoContrato, a.actaInicio, a.certificacion
FROM contrato c
INNER JOIN anexos a ON c.idRUP = a.idRUPFK
WHERE a.actaInicio = 1 AND a.certificacion = 1;

# consultar los clientes que certificaron el trabajo hecho y consultar de esos contratos
# cuantos fueron hechos por consorcio y cuantos no
CREATE VIEW contratoCertificado AS
SELECT c.codigoContrato, a.certificacion, a.documentoConsorcio
FROM contrato c
INNER JOIN anexos a ON c.idRUP = a.idRUPFK
WHERE a.certificacion = 1;

SELECT count(*)
FROM contratoCertificado
WHERE documentoConsorcio = 1;

SELECT count(*)
FROM contratoCertificado
WHERE documentoConsorcio = 0;

# consultar el cliente que celebr el contrato de mayor valor con nosotros
SELECT cl.nombreEntidad, max(c.valorContrato)
FROM cliente cl
INNER JOIN contrato c ON c.idClienteFK = cl.idCliente;

# consultar todos los contratos que tienen la actividad de "Minerales metalicos"
SELECT c.codigoContrato, c.valorContrato
FROM contrato c
INNER JOIN contratobys bys ON bys.idRUPFK = c.idRUP
INNER JOIN bienesyservicios b ON b.codigoBienesyServicios = bys.codigoBienesyServiciosFK
WHERE b.descripcionActividad = "Minerales metalicos";

USE gestionContratos;

SELECT count(idRUP)
FROM cliente;

# TRIGGERS - AUN NO SE HAN CORRIDO

# trigger de evitar contratos duplicados
DELIMITER //
CREATE TRIGGER contratoDuplicado
AFTER INSERT ON contrato
FOR EACH ROW
begin
	if exists (SELECT 1 FROM contrato WHERE codigoContrato = new.codigoContrato) then
    signal sqlstate "45000" set message_text = "El codigo ya existe";
    end if;
end;
DELIMITER ;

# trigger de eliminar de una tabla importante, se inserte en una tabla de <<ELIMINADOS>>
# primero creamos la tabla
CREATE TABLE contratosEliminados(
idRUP int primary key auto_increment,
idClienteFK int,
codigoContrato varchar(255) not null,
descripcionContrato varchar(255) not null,
fechaInicio date not null,
fechaFinalizacion date not null,
valorSMMLV int not null,
valorContrato int not null
);

DELIMITER //
CREATE TRIGGER contratoDuplicado
BEFORE DELETE ON contrato
FOR EACH ROW
begin
	INSERT INTO contratosEliminados values(old.idRUP, old.idClienteFK,
    old.codigoContrato, old.descripcionContrato, old.fechaInicio, old.fechaFinalizacion,
    old.valorSMMLV, old.valorContrato, NOW())
end;
DELIMITER ;

































































